---
title: "Métodos cuantitativos RRII Javeriana - Clase 6"
author: "Gabriel N. Camargo-Toledo"
date: "Febrero 27, 2025"
output: 
  html_document:
    toc: true
    toc_float: true
    theme: united
    highlight: tango
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

# Introducción a R - Segunda sesión

Este documento contiene el código para la segunda sesión de introducción a R en el curso de Métodos Cuantitativos para Relaciones Internacionales.

## Creado por: Gabriel N. Camargo-Toledo
## Modificado: Feb/27/2025

## Cargando los paquetes necesarios

```{r packs}
library(gaborioRtools)
```
## R sabe matemáticas

```{r math}
2+3
(59-2)*34
sin(pi/2)
sum_num <- 2+3
2^16
```

## Funciones y objetos

```{r functions}
help(seq)
seq(to=10, from=1)
seq(1,10)
y_vec <- seq(from=10, to=1)
y_vec
(y_vec <- seq(to=10, from=1, by = 2))
(y_vec <- 1:10)
(z_vec <- seq(0, 10000, by = 1000))
```

## Lógica y matrices

```{r logic}
a_num = 1 # Definido en la clase 5
b_num = 2 # Definido en la clase 5
a_num == b_num
(mayor_log <- a_num<b_num)
a_num>y_vec
b_num>=y_vec
(z_vec <- seq(0,18,2))
z_vec==y_vec
(mayor_log <- z_vec<y_vec)
x_str = "Hello World" # Definido en la clase 5
a_num==x_str
a_num!=x_str
is.numeric(x_str)
is.numeric(a_num)
```

## Multiplicación algebraica y vectores

```{r algebra}
y_vec*z_vec
y_vec^z_vec
y_vec**z_vec
sqrt(y_vec)
(w_vec<-c(y_vec, z_vec))
(i_mat <- cbind(y_vec,z_vec))
(j_mat <- rbind(t(y_vec),t(z_vec)))
(k_mat <- matrix(1:20, ncol=2, nrow=10))
#i_mat*j_mat
i_mat*y_vec
y_vec*i_mat
```

## Más matrices y vectores, importar datos

```{r matrices}
i_mat %*% j_mat
diag(i_mat)
z_vec
z_vec[4]
k_mat
k_mat[7]
k_mat[7,]
k_mat[4,2]
k_mat[,2]
new_data <- cbind(i_mat, k_mat)
(fred_ls <- list(name="Fred", spouse="Mary", no.children=3))
(fred_ls <- list(name=c("Fred", "John"), spouse=c("Mary","None"), no.children=c(3,0)))
spouse_data <- as.data.frame(fred_ls)
```

## Tablas y estadística descriptiva

```{r statistics, eval=T}
mpg_data <- mpg
head(mpg_data)
tail(mpg_data)
table(mpg_data$class)
table(mpg_data$class, mpg_data$manufacturer)
table(mpg_data$manufacturer, mpg_data$model)
prop.table(table(mpg_data$manufacturer))*100
prop.table(table(mpg_data$manufacturer, mpg_data$year) )*100
prop.table(table(mpg_data$manufacturer, mpg_data$year),1)*100
prop.table(table(mpg_data$manufacturer, mpg_data$year),2)*100

summary(mpg_data)
summary(mpg_data$hwy)
cor(mpg_data$hwy, mpg_data$cyl)

library(summarytools)
freq(mpg_data)
freq(mpg_data$hwy)
ctable(mpg_data$manufacturer, mpg_data$drv)
ctable(mpg_data$class,
       mpg_data$drv,
       chisq = TRUE,
       OR    = TRUE,
       RR    = TRUE)
# Ejemplo con datos tobacco
ctable(tobacco$smoker, tobacco$diseased,
         chisq = T,
         OR    = T,
         RR    = T)
descr(mpg_data$hwy)
dfSummary(mpg_data)
```
